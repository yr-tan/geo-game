function showDiaryScreen() {
    diaryList.innerHTML = '';
    const visitedArray = Object.values(visitedLocations);
    
    if (visitedArray.length === 0) {
        const li = document.createElement('li');
        li.innerText = 'まだ訪れた場所はありません。';
        diaryList.appendChild(li);
    } else {
        visitedArray.sort((a, b) => (a.firstVisit || 0) - (b.firstVisit || 0));
        visitedArray.forEach(loc => {
            const li = document.createElement('li');
            li.innerHTML = `
                <strong>${loc.name}</strong>
                <p>初回訪問: ${loc.firstVisit ? loc.firstVisit.toLocaleString() : '不明'}</p>
                <p>最終訪問: ${loc.lastVisit ? loc.lastVisit.toLocaleString() : '不明'}</p>
            `;
            diaryList.appendChild(li);
        });
    }

    diaryScreen.classList.remove('hidden');
    gameScreen.classList.add('hidden');
}

function hideDiaryScreen() {
    diaryScreen.classList.add('hidden');
    gameScreen.classList.remove('hidden');
}
